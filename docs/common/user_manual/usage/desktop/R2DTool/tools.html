

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>3. Tools &mdash; Regional Resilience Determination Tool  documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/tabs.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/css/lightbox.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2/dist/js/lightbox-plus-jquery.min.js"></script>
        <script src="../../../../../_static/sphinxcontrib-images/LightBox2/lightbox2-customize/jquery-noconflict.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="4. Examples" href="../../../examples/desktop/examples.html" />
    <link rel="prev" title="2.11. RES: Results" href="RES.html" />
<script src="https://cdn.jsdelivr.net/npm/vega@5.12.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4.13.1"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6.8.0"></script>
<style media="screen">.vega-actions a {margin-right: 5px;}</style>
<link href="../../../../../_static/css/bootstrap.css" rel="stylesheet">

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #F2F2F2" >
          
<a href="https://simcenter.designsafe-ci.org/" style="margin-bottom: 0px;">
  <img src="../../../../../_static/img/SimCenter-Only.png" class="logo" alt="Org-Logo" />
</a>
<hr style="margin: 0px;">

  <a href="../../../../../index.html">



  
  <img src="../../../../../_static/R2D-Logo.png" class="logo" alt="Logo"/>

</a>


  
  



<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/R2D/about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/desktop/ack.html">2. Acknowledgments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/license.html">3. Copyright and License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/cite.html">4. How To Cite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/r2dCapabilities.html">5. Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/r2dPlans.html">6. Release Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../releases/r2dReleaseNotes.html">7. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/glossary.html">8. Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../front-matter/abbreviations.html">9. Abbreviations</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation/desktop/installation.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">2. User Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">3. Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#earthquake-scenario-simulation">3.1. Earthquake Scenario Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#openquake-selection-widget">3.2. OpenQuake Selection Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="#hurricane-scenario">3.3. Hurricane Scenario</a></li>
<li class="toctree-l2"><a class="reference internal" href="#user-specified-hurricane">3.4. User-specified Hurricane</a></li>
<li class="toctree-l2"><a class="reference internal" href="#census-data-allocation">3.5. Census Data Allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#brails">3.6. BRAILS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples/desktop/examples.html">4. Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/desktop/troubleshooting.html">5. Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reqments/R2D.html">6. R2D Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bugs.html">7. Bugs &amp; Feature Requests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Testbeds</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../testbeds/sf_bay_area/index.html">1. San Francisco, CA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testbeds/atlantic_city/index.html">2. Atlantic County, NJ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../testbeds/lake_charles/index.html">3. Lake Charles, LA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../technical_manual/desktop/technical_manual.html">1. Technical Manual</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Manual</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_build/desktop/how_to_build.html">1. How to Build</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/architecture/desktop/architecture.html">2. Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/how_to_extend/desktop/how_to_extend.html">3. How to Extend</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/verification/desktop/verification.html">4. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/coding_style/desktop/coding_style.html">5. Coding Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer_manual/examples/desktop/examples.html">6. Examples</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Regional Resilience Determination Tool</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li><span class="section-number">3. </span>Tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/common/user_manual/usage/desktop/R2DTool/tools.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tools">
<span id="r2d-tools"></span><h1><span class="section-number">3. </span>Tools<a class="headerlink" href="#tools" title="Permalink to this headline">¶</a></h1>
<p>The main menu toolbar contains the tools dropdown menu. Tools in R2D are applications that are provided to create inputs for certain workflow applications, e.g. the <strong>Earthquake Scenario Simulation</strong> tool will provide inputs for the User Defined Ground motion and the Regional Site Response HAZ widegets.</p>
<div class="section" id="earthquake-scenario-simulation">
<span id="ground-motion-tool"></span><h2><span class="section-number">3.1. </span>Earthquake Scenario Simulation<a class="headerlink" href="#earthquake-scenario-simulation" title="Permalink to this headline">¶</a></h2>
<p>This tool dialog is where user can enter data on an earthquake scenario and the tool will generate a series of ground motions for a series of points in the area. The application employs OpenSHA, determining which records to select from a ground motion database. The <strong>Earthquake Scenario Simulation</strong> input panel is given in <a class="reference internal" href="#fig-eqsspanel"><span class="std std-numref">Fig. 3.1.1</span></a> and the individual input panes are discussed below.</p>
<div class="align-center figure" id="id5">
<span id="fig-eqsspanel"></span><img alt="../../../../../_images/R2DEQSSPanel.png" src="../../../../../_images/R2DEQSSPanel.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.1 </span><span class="caption-text">Earthquake Scenario Simulation Input panel.</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Site Definition Parameters</strong></p>
<p>This is where a user defines the geographical locations where ground motion selection will occur. A user can select to input a single location, multiple locations on a grid, or a collection of scattered sites as seen in the <strong>Grid Type Selection</strong> box in the top-left corner of <a class="reference internal" href="#fig-r2deqsssitesinglepane"><span class="std std-numref">Fig. 3.1.2</span></a>.</p>
<blockquote>
<div><ol class="arabic">
<li><p><strong>Single Location</strong></p>
<blockquote>
<div><p>In the <strong>Single Location</strong> pane, shown in <a class="reference internal" href="#fig-r2deqsssitesinglepane"><span class="std std-numref">Fig. 3.1.2</span></a>, the user needs to provide the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Location:</strong> The latitude and longitude of the site.</p></li>
<li><p><strong>Number of Ground Motions per Site:</strong> The number of ground motions that will be selected at the site.</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id6">
<span id="fig-r2deqsssitesinglepane"></span><img alt="../../../../../_images/R2DEQSSSiteSinglePane.png" src="../../../../../_images/R2DEQSSSiteSinglePane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.2 </span><span class="caption-text">Single location site definition.</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>Grid of Locations</strong></p>
<blockquote>
<div><p>In the <strong>Grid of Locations</strong> input pane, given in <a class="reference internal" href="#fig-r2deqsssitegridpane"><span class="std std-numref">Fig. 3.1.3</span></a>, the user can either manually define a grid, or select a grid on a map. To manually define a grid, the user needs to provide the following input parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Latitude Extents:</strong>  The minimum and maximum latitude values that the grid will span.</p></li>
<li><p><strong>Longitude Extents:</strong> The minimum and maximum longitude values that the grid will span.</p></li>
</ul>
</div></blockquote>
<p>In addition to defining the geographical extents of the grid, the user must also provide the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Number of Ground Motions per Site:</strong> The number of ground motions that will be selected at each grid point.</p></li>
<li><p><strong>Latitude Discretization:</strong> The number of divisions along the latitude direction.</p></li>
<li><p><strong>Longitude Discretization:</strong> The number of divisions along the longitude direction.</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id7">
<span id="fig-r2deqsssitegridpane"></span><img alt="../../../../../_images/R2DEQSSSiteGridPane.png" src="../../../../../_images/R2DEQSSSiteGridPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.3 </span><span class="caption-text">Grid of locations site definition pane.</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>To select a grid on a map, the user needs to click on the <strong>Define Grid on Map</strong> button and a new <strong>Grid Selection Window</strong> will appear with the grid, as seen in <a class="reference internal" href="#fig-r2deqssgridselection"><span class="std std-numref">Fig. 3.1.4</span></a>. A user can click and drag the <strong>Resize</strong> and <strong>Move</strong> handles, shown in <a class="reference internal" href="#fig-r2deqssgridselection"><span class="std std-numref">Fig. 3.1.4</span></a> as blue circles, to resize the grid extents and to move the grid. Changing the grid discretization along the latitude and longitude directions will change the number of grid divisions on the map. Once a grid is defined on the map, the window can be closed and the grid information will be updated in the input pane. To view or modify the grid again, press the <strong>Define Grid on Map</strong> button and the <strong>Grid Selection Window</strong> displaying the grid will reappear.</p>
<div class="align-center figure" id="id8">
<span id="fig-r2deqssgridselection"></span><img alt="../../../../../_images/R2DEQSSGridSelection.png" src="../../../../../_images/R2DEQSSGridSelection.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.4 </span><span class="caption-text">Selection of grid on map.</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>Scattered Locations</strong></p>
<blockquote>
<div><p>In the <strong>Scattered Locations</strong> input pane, given in <a class="reference internal" href="#fig-r2deqsssitescatterpane"><span class="std std-numref">Fig. 3.1.5</span></a>, the user provides a custom list of sites. The following inputs are required:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Site File:</strong> The user provided file, in <code class="docutils literal notranslate"><span class="pre">.csv</span></code> format, containing the list of sites and corresponding site data. At a minimum the site file must contain the station number, latitude, and longitude of each site, as seen in the <strong>Site Preview Table</strong> in <a class="reference internal" href="#fig-r2deqsssitescatterpane"><span class="std std-numref">Fig. 3.1.5</span></a>.</p></li>
<li><p><strong>Site Preview Table:</strong> Table providing the information at each site. Apart from the station number, latitude, and longitude at each site, the site file can include other information such as the Vs30 at the site.</p></li>
<li><p><strong>Minimum and Maximum Site ID:</strong> The minimum and maximum site IDs considered.</p></li>
<li><p><strong>Number of Ground Motions per Site:</strong> The number of ground motions that will be selected at each site.</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id9">
<span id="fig-r2deqsssitescatterpane"></span><img alt="../../../../../_images/R2DEQSSSiteScatterPane.png" src="../../../../../_images/R2DEQSSSiteScatterPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.5 </span><span class="caption-text">Scattered sites input pane.</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p><strong>Spatial Correlation and Ground Motion Scaling Factors</strong></p>
<p>This is where the user selects the spatial correlation models, and where the user defines the minimum and maximum scaling factors that are used in ground motion selection. Shown at the top of <a class="reference internal" href="#fig-r2deqsscorrscalepane"><span class="std std-numref">Fig. 3.1.6</span></a>, the user has the option to select the Intra- and Inter-event Spatial Correlation Models. Spatial correlation ensures that ground motions at different locations will share similar characteristics. The following Inter-event Spatial Correlation Models are available:</p>
<blockquote>
<div><ul class="simple">
<li><p>Baker &amp; Jayaram (2008)</p></li>
</ul>
</div></blockquote>
<p>and the following Intra-event Spatial Correlation Models are available:</p>
<blockquote>
<div><ul class="simple">
<li><p>Markhvida et al. (2017)</p></li>
<li><p>Jayaram &amp; Baker (2009)</p></li>
<li><p>Loth &amp; Baker (2013)</p></li>
</ul>
</div></blockquote>
<p>Special thanks to Dr. Anne Husley for sharing the python package <a class="reference external" href="https://github.com/annehulsey/seaturtles">seaturtles</a>, especially for the method of computing the regional ground motion intensity using the Markhvida et al. (2017) and Baker &amp; Jayaram (2008) correlation models.</p>
<p>The <strong>Ground Motion Record Scaling Bounds</strong>, shown at the bottom of <a class="reference internal" href="#fig-r2deqsscorrscalepane"><span class="std std-numref">Fig. 3.1.6</span></a>, are the minimum and maximum scaling factors that intensity measures can be scaled by during the ground motion selection process.</p>
<div class="align-center figure" id="id10">
<span id="fig-r2deqsscorrscalepane"></span><img alt="../../../../../_images/R2DEQSSCorrScalePane.png" src="../../../../../_images/R2DEQSSCorrScalePane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.6 </span><span class="caption-text">Spatial correlation and ground motion selection scaling factors.</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Ground Motion Record Database</strong></p>
<p>Ground motion records are selected from a ground motion database. Currently, only the <em>PEER NGA-West2</em> database is available, shown in the <strong>Ground Motion Record Database</strong> combo box in <a class="reference internal" href="#fig-r2deqssgmdbpane"><span class="std std-numref">Fig. 3.1.7</span></a>. Alternatively, a user can select <em>None</em> to skip ground motion selection altogether. In that case, only the intensity measures will be saved at each location.</p>
<blockquote>
<div><div class="align-center figure" id="id11">
<span id="fig-r2deqssgmdbpane"></span><img alt="../../../../../_images/R2DEQSSGMDBPane.png" src="../../../../../_images/R2DEQSSGMDBPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.7 </span><span class="caption-text">Ground motion records database.</span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
<p><strong>Ground Motion Prediction Equations</strong></p>
<p>Ground motion prediction equations estimate the intensity of ground shaking that may occur at a site. The <strong>Ground Motion Prediction Equation</strong> combo box, shown in <a class="reference internal" href="#fig-r2deqssgmpepane"><span class="std std-numref">Fig. 3.1.8</span></a>, contains the following ground motion prediction equations:</p>
<blockquote>
<div><ul class="simple">
<li><p>Abrahamson, Silva &amp; Kamai (2014)</p></li>
<li><p>Boore, Stewart, Seyhan &amp; Atkinson (2014)</p></li>
<li><p>Campbell &amp; Bozorgnia (2014)</p></li>
<li><p>Chiou &amp; Youngs (2014)</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id12">
<span id="fig-r2deqssgmpepane"></span><img alt="../../../../../_images/R2DEQSSGMPEPane.png" src="../../../../../_images/R2DEQSSGMPEPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.8 </span><span class="caption-text">Ground motion prediction equations.</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Earthquake Source</strong></p>
<p>This is where the user defines the earthquake rupture characteristics. In the <strong>Rupture Type</strong> combo box, shown in <a class="reference internal" href="#fig-r2deqssseqruppointpane"><span class="std std-numref">Fig. 3.1.9</span></a>, point source and UCERF earthquake rupture forecast models are available.</p>
<blockquote>
<div><ol class="arabic">
<li><p><strong>Point Source</strong></p>
<blockquote>
<div><p>The <strong>Point Source</strong> pane, shown in <a class="reference internal" href="#fig-r2deqssseqruppointpane"><span class="std std-numref">Fig. 3.1.9</span></a>, requires the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Magnitude:</strong> Magnitude of the earthquake.</p></li>
<li><p><strong>Location and Depth:</strong> Location and depth of earthquake rupture.</p></li>
<li><p><strong>Rupture Geometry:</strong> Average dip and rake of rupture.</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id13">
<span id="fig-r2deqssseqruppointpane"></span><img alt="../../../../../_images/R2DEQSSSEQRupPointPane.png" src="../../../../../_images/R2DEQSSSEQRupPointPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.9 </span><span class="caption-text">Point source earthquake rupture.</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>UCERF Earthquake Rupture Forecast</strong></p>
<blockquote>
<div><p>The <strong>UCERF Earthquake Rupture Forecast</strong> pane, shown in <a class="reference internal" href="#fig-r2deqssseqrupforecastpane"><span class="std std-numref">Fig. 3.1.10</span></a>, requires the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Number of scenarios:</strong> The number of rupture scenarios considered.</p></li>
<li><p><strong>Magnitude and Distance:</strong> Magnitude of the earthquake and the maximum distance, in km, from a site.</p></li>
<li><p><strong>Name:</strong> Users can specify keywords here to search for specific earthquakes.</p></li>
<li><p><strong>Earthquake Forecast Model:</strong> Type of earthquake forecast model.</p></li>
</ul>
</div></blockquote>
<p>The types of UCERF earthquake forecast models available are:</p>
<blockquote>
<div><ul class="simple">
<li><p>WGCEP (2007) UCERF2 - Single Branch</p></li>
<li><p>Mean UCERF3</p></li>
<li><p>Mean UCERF3 FM3.1</p></li>
<li><p>Mean UCERF3 FM3.2</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id14">
<span id="fig-r2deqssseqrupforecastpane"></span><img alt="../../../../../_images/R2DEQSSSEQRupForecastPane.png" src="../../../../../_images/R2DEQSSSEQRupForecastPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.10 </span><span class="caption-text">Earthquake rupture forecast.</span><a class="headerlink" href="#id14" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>OpenQuake Scenario-Based</strong></p>
<blockquote>
<div><p>The <strong>OpenQuake Scenario-Based</strong> pane, shown in <a class="reference internal" href="#fig-r2dopenquakescenariobased"><span class="std std-numref">Fig. 3.1.11</span></a>, requires the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpenQuake Version:</strong> Version of OpenQuake (currently available 3.10, 3.11, 3.12, and latest minor version is supported).</p></li>
<li><p><strong>Rupture File:</strong> A xml file (NRML format) defining an earthquake source.</p></li>
<li><p><strong>Rupture Meshsize:</strong> Mesh size for line sources.</p></li>
<li><p><strong>Area Meshsize:</strong> Mesh size for area sources.</p></li>
<li><p><strong>Maximum Distance:</strong> Maximum considered distance from source to site.</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id15">
<span id="fig-r2dopenquakescenariobased"></span><img alt="../../../../../_images/R2DOpenQuakeScenarioBased.png" src="../../../../../_images/R2DOpenQuakeScenarioBased.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.11 </span><span class="caption-text">OpenQuake Scenario-Based Input.</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>OpenQuake Classcial PSHA</strong></p>
<blockquote>
<div><p>The <strong>OpenQuake Classcial PSHA</strong> pane, shown in <a class="reference internal" href="#fig-r2dopenquakeclassicalpsha"><span class="std std-numref">Fig. 3.1.12</span></a>, requires the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>OpenQuake Version:</strong> Version of OpenQuake (currently available 3.10, 3.11, 3.12, and latest minor version is supported).</p></li>
<li><p><strong>Source Logic Tree:</strong> A xml file (NRML format) defining a logic tree model for seismic sources.</p></li>
<li><p><strong>Source Model Folder:</strong> A directory hosting the seismic sources defined in the source logic tree.</p></li>
<li><p><strong>Rupture Meshsize:</strong> Mesh size for line sources.</p></li>
<li><p><strong>Area Meshsize:</strong> Mesh size for area sources.</p></li>
<li><p><strong>Maximum Distance:</strong> Maximum considered distance from source to site.</p></li>
<li><p><strong>GMPE Logic Tree:</strong> A xml file (NRML format) defining a logic tree model for ground motion prediction equations.</p></li>
<li><p><strong>Return Period:</strong> Return period of the PSHA.</p></li>
<li><p><strong>Seed:</strong> Seed in generating ground motion maps.</p></li>
<li><p><strong>Quantiles:</strong> Quantile levels of ground motion intensity measures in the output (e.g., uniform hazard spectra).</p></li>
<li><p><strong>Investigation Time:</strong> time period for computing the probability of exceedance</p></li>
<li><p><strong>Output:</strong> Checkboxes for <em>Individual hazard curve</em>, <em>Mean hazard curve</em>, <em>Hazard map</em>, and <em>Uniform hazard spectra</em></p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id16">
<span id="fig-r2dopenquakeclassicalpsha"></span><img alt="../../../../../_images/R2DOpenQuakeClassicalPSHA.png" src="../../../../../_images/R2DOpenQuakeClassicalPSHA.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.12 </span><span class="caption-text">OpenQuake Classical PSHA Input.</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
<li><p><strong>Hazard Occurrence</strong></p>
<blockquote>
<div><p>The <strong>Hazard Occurrence</strong> pane, shown in <a class="reference internal" href="#fig-r2dhazardoccurrence"><span class="std std-numref">Fig. 3.1.13</span></a>, requires the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Hazard occurrence model:</strong> Currently Manzour and Davidson (2016) (<a class="reference internal" href="HAZ.html#manzour2016" id="id1"><span>[Manzour2016]</span></a>) is available.</p></li>
<li><dl class="simple">
<dt><strong>Forecast model:</strong> Type of earthquake forecast model where the candidate earthquake scenarios are collected from.</dt><dd><ul>
<li><p>WGCEP (2007) UCERF2 - Single Branch</p></li>
<li><p>Mean UCERF3</p></li>
<li><p>Mean UCERF3 FM3.1</p></li>
<li><p>Mean UCERF3 FM3.2</p></li>
</ul>
</dd>
</dl>
</li>
<li><p><strong>Candidate earthquake number:</strong> Number of earthquakes used as candidates to select from.</p></li>
<li><p><strong>Reduced earthquake number:</strong> Maximum number of selected (reduced) earthquakes to recover the hazard curves.</p></li>
<li><p><strong>Reduced motion number:</strong> Maximum number of selected (reduced) ground motions per individual site to recover the site hazard curve.</p></li>
<li><p><strong>Hazard curve input:</strong> Types of reference hazard curves: (1) Inferred and (2) User-defined. Inferred hazard curves are fetched from National seismic hazar map project (<a class="reference internal" href="HAZ.html#peterson2020" id="id2"><span>[Peterson2020]</span></a>). User-defined hazard curves should be summarized in a csv file following the <a class="reference download internal" download="" href="../../../../../_downloads/dacbdced5505dcbc798da94687495c1b/HazardCurves.csv"><code class="xref download docutils literal notranslate"><span class="pre">template</span></code></a>.</p></li>
<li><p><strong>National seismic hazard map:</strong> Version of national seismic hazard map used to infer reference site-specific hazard curves.</p></li>
<li><p><strong>Hazard curve file:</strong> User-defined hazard curve file.</p></li>
<li><p><strong>Intensity measure:</strong> The intensity measure type used in reference hazard curves.</p></li>
<li><p><strong>Hazard curve Sa period:</strong> Period of the response acceleration Sa if the intensity measure type is Sa.</p></li>
<li><p><strong>Return periods (yr):</strong> A list of return periods in year used in minimizing the difference between recovered and reference hazard curves (seperated by “,”).</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id17">
<span id="fig-r2dhazardoccurrence"></span><img alt="../../../../../_images/R2DHazardOccurrence.png" src="../../../../../_images/R2DHazardOccurrence.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.13 </span><span class="caption-text">Hazard Occurrence Input.</span><a class="headerlink" href="#id17" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p><strong>Intensity Measure and Period Points</strong></p>
<p>The <strong>Intensity Measure and Period Points</strong> pane, shown in <a class="reference internal" href="#fig-r2deqssimpane"><span class="std std-numref">Fig. 3.1.14</span></a>, requires the following inputs:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Intensity Measure Type:</strong> Type of intensity measure. The Spectral Acceleration (SA) and Peak Ground Acceleration (PGA) intensity measures are available.</p></li>
<li><p><strong>Period Points:</strong> List of periods, in seconds, that are used in the ground motion selection procedure.</p></li>
</ul>
</div></blockquote>
<div class="align-center figure" id="id18">
<span id="fig-r2deqssimpane"></span><img alt="../../../../../_images/R2DEQSSIMPane.png" src="../../../../../_images/R2DEQSSIMPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.14 </span><span class="caption-text">Intensity measure and period.</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Output Directory and Run Button</strong></p>
<p>Shown at the bottom of <a class="reference internal" href="#fig-r2deqssoutputdirpane"><span class="std std-numref">Fig. 3.1.15</span></a>, the <strong>Run Hazard Simulation</strong> button starts the ground motion selection application. The <strong>Output Directory</strong> box, provided in <a class="reference internal" href="#fig-r2deqssoutputdirpane"><span class="std std-numref">Fig. 3.1.15</span></a>, allows the user to select a directory that will contain the input and output files of the earthquake scenario simulation.</p>
<div class="align-center figure" id="id19">
<span id="fig-r2deqssoutputdirpane"></span><img alt="../../../../../_images/R2DEQSSOutputDirPane.png" src="../../../../../_images/R2DEQSSOutputDirPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.15 </span><span class="caption-text">Earthquake Scenario Simulation Output Directory.</span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
<dl class="simple">
<dt>The earthquake scenario simulation is run via a Python script. When the <strong>Run Hazard Simulation</strong> button is pressed, text output from the script will appear in the <strong>Program Output</strong> console at the bottom of the application.</dt><dd><p>Upon successful completion of the earthquake scenario simulation, results from the simulation are in the <strong>Output Directory</strong> folder that is specified above, as shown in <a class="reference internal" href="#fig-r2deqssoutputdirpane"><span class="std std-numref">Fig. 3.1.15</span></a>. The final output is a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file called <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code>. The <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code> file contains the grid points and their locations and file names. Each grid point is assigned a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file containing a list of the ground motions at the grid point and their scaling factors. If applicable, the corresponding ground motion records, in <code class="docutils literal notranslate"><span class="pre">JSON</span></code> format, are also in the <strong>Output Directory</strong> directoy. Next, the <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code> is post-processed, and a new layer containing the ground motions is added to the GIS widget. Shown on the right-hand side of <a class="reference internal" href="#fig-r2deqssoutput"><span class="std std-numref">Fig. 3.1.16</span></a>, the grid points are represented with a cross symbol. Clicking on a grid point will produce a popup with information about the ground motions at that point.</p>
</dd>
</dl>
<div class="align-center figure" id="id20">
<span id="fig-r2deqssoutput"></span><img alt="../../../../../_images/R2DEQSSOutput.png" src="../../../../../_images/R2DEQSSOutput.png" />
<p class="caption"><span class="caption-number">Fig. 3.1.16 </span><span class="caption-text">Post-processing output and grid visualization.</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="openquake-selection-widget">
<span id="openquake-selection-tool"></span><h2><span class="section-number">3.2. </span>OpenQuake Selection Widget<a class="headerlink" href="#openquake-selection-widget" title="Permalink to this headline">¶</a></h2>
<p>The <strong>OpenQuake Selection Widget</strong> allows for the selection of OpenQuake seismic sources in a GIS window and exporting only the selected sources into a new .xml file for use in OpenQuake. The <strong>OpenQuake Selection Widget</strong> input pane is given in <a class="reference internal" href="#fig-r2dopenquakepane"><span class="std std-numref">Fig. 3.2.1</span></a>.</p>
<ol class="arabic simple">
<li><p>To load an OpenQuake file (only .xml files supported), click on the <strong>Browse</strong> button next to the input file box, and then select the input file in the dialog that will appear.</p></li>
<li><p>Next, select a subset of sources in the GIS window that you wish to keep. To be able to select the OpenQuake sources in the map, you first need to select a layer in the layer tree, shown on the left-hand side of <a class="reference internal" href="#fig-r2dopenquakepane"><span class="std std-numref">Fig. 3.2.1</span></a>. There are three layers that correspond to the different source geometries in OpenQuake; namely point, line, and area sources.</p></li>
</ol>
<p>There are several methods available to select the sources on the GIS map. Clicking on one of the <strong>Selection Method</strong> buttons, shown in <a class="reference internal" href="#fig-r2dopenquakepane"><span class="std std-numref">Fig. 3.2.1</span></a>, will change the selection tool to that corresponding method.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Only features that are in the current layer can be selected on the map. The current layer is the layer that is selected (highlighted) in the layer tree.</p>
</div>
<p>Some tips for selecting features are:</p>
<blockquote>
<div><ul class="simple">
<li><p>To select multiple features, hold down the shift key.</p></li>
<li><p>The selected features are highlighted in yellow.</p></li>
<li><p>A layer needs to be visible to enable asset selection on that layer.</p></li>
<li><p>To clear everything and start over again, click on the <strong>Clear</strong> button.</p></li>
<li><p>To clear the selected features on the current layer, click anywhere on the map where there are no features. Alternatively, you can clear all the selected features from all layers by clicking on the <strong>Clear Selection</strong> button.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple">
<li><p>Once you are done with the selection process, you can export the selected sources (highlighted in yellow) by first providing a file path and name. Clicking on the <strong>Browse</strong> button next to the export file box will open a dialog where you can input a directory path and file name, i.e., the name and location where the .xml file containing the selected sources will be saved. Once you have entered a file name and path, clicking on the <strong>Export</strong> button will generate the new .xml file that can be used in OpenQuake. The name and path of the exported file will appear in the program output pane.</p></li>
</ol>
<div class="align-center figure" id="id21">
<span id="fig-r2dopenquakepane"></span><img alt="../../../../../_images/R2DOpenQuakePane.png" src="../../../../../_images/R2DOpenQuakePane.png" />
<p class="caption"><span class="caption-number">Fig. 3.2.1 </span><span class="caption-text">OpenQuake selection pane.</span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="hurricane-scenario">
<span id="hurricane-scenario-tool"></span><h2><span class="section-number">3.3. </span>Hurricane Scenario<a class="headerlink" href="#hurricane-scenario" title="Permalink to this headline">¶</a></h2>
<p>This tool dialog is where user can enter data for a specific Hurricane and it will generate a wind field for a specific region..</p>
<p>The <strong>Hurricane Scenario Simulation</strong>, seen in <a class="reference internal" href="#fig-r2dhurricanemainpanel"><span class="std std-numref">Fig. 3.3.1</span></a>, is an tool that calculates a wind field over a user defined grid. The application is implemented based on the method proposed by <a class="reference internal" href="HAZ.html#snaikiwu2017a" id="id3"><span>[SnaikiWu2017a]</span></a> and <a class="reference internal" href="HAZ.html#snaikiwu2017b" id="id4"><span>[SnaikiWu2017b]</span></a>. The GIS visualization window, seen at the bottom of <a class="reference internal" href="#fig-r2dhurricanemainpanel"><span class="std std-numref">Fig. 3.3.1</span></a>, is used to interactively define hurricane inputs. At a minimum, a user needs to specify a set of hurricane track points, landfall location and parameters, and a wind field grid. The individual input panes are discussed below.</p>
<div class="align-center figure" id="id22">
<span id="fig-r2dhurricanemainpanel"></span><img alt="../../../../../_images/R2DHurricaneMainPanel.png" src="../../../../../_images/R2DHurricaneMainPanel.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.1 </span><span class="caption-text">Hurricane Scenario Simulation Application.</span><a class="headerlink" href="#id22" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Hurricane Definition</strong></p>
<p>A user has the option to specify a hurricane track and associated landfall parameters, or select a historical hurricane from a built-in database.</p>
<blockquote>
<div><ol class="arabic">
<li><p><strong>Specify Hurricane Track</strong></p>
<blockquote>
<div><p>To manually input a hurricane track, the user needs to supply a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file with rows that contain the latitude and longitude coordinates of the points along the track. To input the hurricane track file, the user needs to specify the file path in the <strong>Path to Hurricane Track File</strong> input shown in <a class="reference internal" href="#fig-r2dhurricanetrackselectpane"><span class="std std-numref">Fig. 3.3.2</span></a>. A successfully loaded track is shown at the top of <a class="reference internal" href="#fig-r2dhurricanetrackselectpane"><span class="std std-numref">Fig. 3.3.2</span></a>. The circles represent a measurement point along the track and the arrow head shows the direction of the hurricane. Clicking on a circle will produce a dialog with the available information at that point.</p>
<div class="align-center figure" id="id23">
<span id="fig-r2dhurricanetrackselectpane"></span><img alt="../../../../../_images/R2DHurricaneTrackSelectPane.png" src="../../../../../_images/R2DHurricaneTrackSelectPane.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.2 </span><span class="caption-text">Manually defined hurricane track.</span><a class="headerlink" href="#id23" title="Permalink to this image">¶</a></p>
</div>
<p>An example hurricane track input file is given below in  <a class="reference internal" href="#fig-r2dhurricanetrackselectexdata"><span class="std std-numref">Fig. 3.3.3</span></a>. The track data should be in temporal order, i.e., the first measurement should be in the first row of the input file.</p>
<div class="align-center figure" id="id24">
<span id="fig-r2dhurricanetrackselectexdata"></span><img alt="../../../../../_images/R2DHurricaneTrackSelectExData.png" src="../../../../../_images/R2DHurricaneTrackSelectExData.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.3 </span><span class="caption-text">Example data for hurricane track input.</span><a class="headerlink" href="#id24" title="Permalink to this image">¶</a></p>
</div>
<p>Users also have the option to specify a terrain roughness file in the <code class="docutils literal notranslate"><span class="pre">.geojson</span></code> format. Users need to provide the path to the terrain roughness file in the <strong>Path to Terrain Roughness File</strong> input, given in <a class="reference internal" href="#fig-r2dhurricanetrackselectpane"><span class="std std-numref">Fig. 3.3.2</span></a>. When loaded, the terrain roughness file will be visualized in the GIS window, as highlighted at the bottom of <a class="reference internal" href="#fig-r2dhurricanetrackselectpane"><span class="std std-numref">Fig. 3.3.2</span></a>. If a terrain roughness is not specified, a default value of 0.03 m is used (assuming open/flat terrain few isolated obstacles).</p>
</div></blockquote>
</li>
<li><p><strong>Select Hurricane from Database</strong></p>
<blockquote>
<div><p>The panel to select a historical hurricane is shown in <a class="reference internal" href="#fig-r2dhurricanetrackdb"><span class="std std-numref">Fig. 3.3.4</span></a>. Clicking on the <strong>Load Hurricane Database</strong> button will load the database and all of the hurricanes in the database will appear in the GIS window, as shown at the bottom of <a class="reference internal" href="#fig-r2dhurricanetrackdb"><span class="std std-numref">Fig. 3.3.4</span></a>. The database that is pre-bundled with the application is the International Best Track Archive for Climate Stewardship (IBTrACS) v04r00 database, listing storms that have occurred in the last three years. Users can modify the <code class="docutils literal notranslate"><span class="pre">.csv</span></code> database file, e.g., update it or add their own storm information, if the same header format and file name (ibtracs.last3years.list.v04r00.csv) is retained. Users can find this file in the <code class="docutils literal notranslate"><span class="pre">Databases</span></code> folder that is in the R2D installation directory.</p>
<div class="align-center figure" id="id25">
<span id="fig-r2dhurricanetrackdb"></span><img alt="../../../../../_images/R2DHurricaneTrackDB.png" src="../../../../../_images/R2DHurricaneTrackDB.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.4 </span><span class="caption-text">Hurricane selection from database.</span><a class="headerlink" href="#id25" title="Permalink to this image">¶</a></p>
</div>
<p>To load a specific hurricane, a user needs to navigate to a hurricane of their choice in the GIS window and click on the hurricane to select it. The selected hurricane will be highlighted, as shown in <a class="reference internal" href="#fig-r2dhurricanetrackdb2"><span class="std std-numref">Fig. 3.3.5</span></a>, and a dialog will appear providing the hurricane track metadata. Clicking on the <strong>Select Hurricane Button</strong> in <a class="reference internal" href="#fig-r2dhurricanetrackdb2"><span class="std std-numref">Fig. 3.3.5</span></a> will finalize the selection. The selected hurricane’s metadata will appear in the box that is given in the middle of <a class="reference internal" href="#fig-r2dhurricanetrackdb"><span class="std std-numref">Fig. 3.3.4</span></a>.</p>
<div class="align-center figure" id="id26">
<span id="fig-r2dhurricanetrackdb2"></span><img alt="../../../../../_images/R2DHurricaneTrackDB2.png" src="../../../../../_images/R2DHurricaneTrackDB2.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.5 </span><span class="caption-text">Selecting a hurricane from the map.</span><a class="headerlink" href="#id26" title="Permalink to this image">¶</a></p>
</div>
<p>After selecting a hurricane, a user will see the final hurricane track, similar to what is shown in <a class="reference internal" href="#fig-r2dhurricanetrackdb3"><span class="std std-numref">Fig. 3.3.6</span></a>. The circles represent a measurement point along the track. Clicking on a circle will produce a dialog with the available information at that point. The blue diamond represents the first point of hurricane landfall, i.e., the first point at which the distance to land is equal to zero. If a landfall location is found, the landfall parameters are programmatically filled in with the measurements at the landfall location. In the case where a hurricane makes landfall more than once, the user has the option to clear the initial landfall point, and select another landfall point, the procedure of which is described below. Note that if a new landfall location is selected by the user, except for the latitude and longitude which is updated programmatically, users should manually update the landfall parameters to agree with the expected parameter values at new location.</p>
<div class="align-center figure" id="id27">
<span id="fig-r2dhurricanetrackdb3"></span><img alt="../../../../../_images/R2DHurricaneTrackDB3.png" src="../../../../../_images/R2DHurricaneTrackDB3.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.6 </span><span class="caption-text">Output after hurricane selection.</span><a class="headerlink" href="#id27" title="Permalink to this image">¶</a></p>
</div>
</div></blockquote>
</li>
</ol>
</div></blockquote>
<p><strong>Hurricane Landfall Parameters</strong></p>
<p>This is where the user inputs the hurricane landfall parameters. Hurricane landfall occurs when the center of the storm moves across a coastline after traversing open water. Shown in <a class="reference internal" href="#fig-r2dhurricanelandfallparams"><span class="std std-numref">Fig. 3.3.7</span></a>, the user must supply the following parameter values:</p>
<blockquote>
<div><ul class="simple">
<li><p>Latitude in degrees North</p></li>
<li><p>Longitude in degrees East</p></li>
<li><p>Landing, or approach angle, in degrees</p></li>
<li><p>Speed in knots (kts)</p></li>
<li><p>Pressure in millibars (mb)</p></li>
<li><p>Radius in nautical miles (nmile)</p></li>
<li><p>Exposure category to classify terrain roughness</p></li>
<li><p>Gust duration in seconds (s)</p></li>
<li><p>Reference height in meters (m).</p></li>
</ul>
</div></blockquote>
<p>Note that if a track is selected from the database, the landfall parameters will be automatically filled in based on the first encountered landfall. The <strong>Perturbation</strong> input boxes allow the user to specify uncertainty in the parameter values.</p>
<div class="align-center figure" id="id28">
<span id="fig-r2dhurricanelandfallparams"></span><img alt="../../../../../_images/R2DHurricaneLandfallParams.png" src="../../../../../_images/R2DHurricaneLandfallParams.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.7 </span><span class="caption-text">Hurricane Landfall Parameters.</span><a class="headerlink" href="#id28" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Specify Landfall Location</strong></p>
<p>The hurricane landfall location is manually defined using the buttons in <a class="reference internal" href="#fig-r2dhurricanelandfallselect"><span class="std std-numref">Fig. 3.3.8</span></a>. Clicking on the <strong>Define Landfall on Map</strong> button causes a blue circle to appear in the GIS window, as seen in the righthand side of the window in <a class="reference internal" href="#fig-r2dhurricanelandfallparams"><span class="std std-numref">Fig. 3.3.7</span></a>. A user can click on and drag this circle to any location on the map. When the user is satisfied with their new landfall location, they need to click on the <strong>Select Landfall</strong> button to finalize the selection. The landfall will then appear as a blue diamond symbol in its own layer in the GIS window. If a user wants to erase an existing landfall location, they need to click on the <strong>Clear Landfall</strong> button and start over.</p>
<div class="align-center figure" id="id29">
<span id="fig-r2dhurricanelandfallselect"></span><img alt="../../../../../_images/R2DHurricaneLandfallSelect.png" src="../../../../../_images/R2DHurricaneLandfallSelect.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.8 </span><span class="caption-text">Specify Hurricane Landfall.</span><a class="headerlink" href="#id29" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Truncate Hurricane Track</strong></p>
<p>R2D allows users to truncate hurricane tracks to save time in the wind field computations. This is also useful when a user requires only a portion of a hurricane track in their region of interest. The buttons for truncating a hurricane track are shown in <a class="reference internal" href="#fig-r2dhurricanetruncatetrack"><span class="std std-numref">Fig. 3.3.9</span></a>. Clicking on the <strong>Select Area on Map</strong> button in the figure will turn on the selection procedure. Clicking on any point in the GIS window will start the selection process. Continuing the point selection procedure by clicking elsewhere on the map will form the boundary of the selection polygon, an example of which is provided in <a class="reference internal" href="#fig-r2dhurricanetruncatetrack"><span class="std std-numref">Fig. 3.3.9</span></a>. Right-clicking anywhere on the map, or my pressing the escape key, will clear the polygon and select the points within the polygon. The selected points will be highlighted in yellow.The selection points can be cleared at any time by pressing the <strong>Clear</strong> button. Clicking on the <strong>Apply</strong> button will finalize the selection. The yellow-highlighted track points that are selected will be kept and all other points will be discarded. Note that once the <strong>Apply</strong> button is pressed, the procedure cannot be undone. An example truncated track is given in the left-hand side of the GIS window in <a class="reference internal" href="#fig-r2dhurricanetruncatetrack"><span class="std std-numref">Fig. 3.3.9</span></a>.</p>
<div class="align-center figure" id="id30">
<span id="fig-r2dhurricanetruncatetrack"></span><img alt="../../../../../_images/R2DHurricaneTruncateTrack.png" src="../../../../../_images/R2DHurricaneTruncateTrack.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.9 </span><span class="caption-text">Truncate Hurricane Track.</span><a class="headerlink" href="#id30" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Specify Wind Field Grid</strong></p>
<p>To select the wind field grid on a map, the user needs to click on the <strong>Define Grid on Map</strong> button. A new grid will appear in the GIS window, as seen in <a class="reference internal" href="#fig-r2dhurricanedefinegrid"><span class="std std-numref">Fig. 3.3.10</span></a>. A user can click and drag the <strong>Resize</strong> and <strong>Move</strong> handles, shown in <a class="reference internal" href="#fig-r2dhurricanedefinegrid"><span class="std std-numref">Fig. 3.3.10</span></a>, to resize the grid extents and to move the grid. Changing the grid discretization along the latitude and longitude directions will change the number of grid divisions on the map. Once a grid is defined on the map, the user needs to click on the <strong>Select Grid</strong> button to finalize grid selection. When grid selection is finalized, a new layer is added to the GIS widget. Shown on the right-hand side of <a class="reference internal" href="#fig-r2dhurricanedefinegrid"><span class="std std-numref">Fig. 3.3.10</span></a>, the wind field grid points are represented with a cross symbol. Clicking on the <strong>Clear Grid</strong> button will clear the existing grid, allowing for the selection of a new grid.</p>
<div class="align-center figure" id="id31">
<span id="fig-r2dhurricanedefinegrid"></span><img alt="../../../../../_images/R2DHurricaneDefineGrid.png" src="../../../../../_images/R2DHurricaneDefineGrid.png" />
<p class="caption"><span class="caption-number">Fig. 3.3.10 </span><span class="caption-text">Hurricane Wind Field Grid.</span><a class="headerlink" href="#id31" title="Permalink to this image">¶</a></p>
</div>
<p><strong>Run Simulation Button</strong></p>
<p>Shown on the right-hand side of <a class="reference internal" href="#fig-r2dhurricanemainpanel"><span class="std std-numref">Fig. 3.3.1</span></a>, the <strong>Run Simulation</strong> button starts the hurricane simulation application. The results from the simulation are in the <strong>Output Directory</strong> folder specified in R2D preferences. The final output is a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file called <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code>. The <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code> file contains the grid point locations and file names. Each grid point is assigned a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file containing a list of the peak wind speeds at the grid point. The <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code> is post-processed and the grid points created in the <strong>Specify Wind Field Grid</strong> step will be updated with the Peak Wind Speed values that are calculated in the simulation. Clicking on a grid point will produce a popup listing the wind speeds at that point.</p>
</div>
<div class="section" id="user-specified-hurricane">
<h2><span class="section-number">3.4. </span>User-specified Hurricane<a class="headerlink" href="#user-specified-hurricane" title="Permalink to this headline">¶</a></h2>
<p>The <strong>User-specified Hurricane</strong> application loads the results of a <strong>Hurricane Scenario Simulation</strong> that was shown previously. The <strong>User-specified Hurricanes</strong> application input pane is given in <code class="xref std std-numref docutils literal notranslate"><span class="pre">fig-R2DUserSelectWindField</span></code>. As seen in the figure, the user is required to input the file path to the <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code> file. If the wind and/or inundation field stations are not in the same folder as the <code class="docutils literal notranslate"><span class="pre">EventGrid.csv</span></code> file, then the user needs to input the directory path to the folder containing the wind and/or inundation field station files. The user also needs to specify the units of the intensity measure field.</p>
<div class="align-center figure" id="fig-r2duserselectwindfield">
<img alt="../../../../../_images/R2DUserSelectWindField.png" src="../../../../../_images/R2DUserSelectWindField.png" />
</div>
</div>
<div class="section" id="census-data-allocation">
<span id="lbl-censusdataallocation"></span><h2><span class="section-number">3.5. </span>Census Data Allocation<a class="headerlink" href="#census-data-allocation" title="Permalink to this headline">¶</a></h2>
<p>The <strong>Census Data Allocation</strong> application can be employed to augment an existing asset inventory with US Census demographic information and socio-economic information, e.g., household income, from the American Community Survey (ACS). The input panel is shown in <a class="reference internal" href="#fig-r2dhuapanel"><span class="std std-numref">Fig. 3.5.1</span></a>. As seen in the figure, the asset information is supplied via selection of an already imported layer in R2D. Alternatively, a user can supply an asset layer in a GIS format, e.g., shapefile, geodatabase, and the supplied layer will be employed.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>R2D will make a copy of the asset layer that you provide. Going forward, the copy of the asset layer is employed to preserve the original data.</p>
</div>
<dl class="simple">
<dt>The procedure is as follows:</dt><dd><ol class="arabic simple">
<li><p>Given an asset inventory, R2D cross-references the assets with a US counties map (2021), generating a set of US county codes that overlap with the provided asset inventory.</p></li>
<li><p>The US Census API is queried and the population demographic information within each county is downloaded at the block level and saved locally . Similarly, the ACS API is called to download socio-economic information and the data is saved as a second GIS file. The ACS data is saved at the block group level. The GIS files are found in the output folder specified by the user (shown below as Directory to store created .GIS files).</p></li>
<li><p>The Census and ACS information from the downloaded GIS files is extracted and appended to the assets in the copied layer by performing a spatial join. This means that each asset within the copied layer will be augmented to contain the informtaion extracted from the Census block level layer and the ACS block group layer of which it is located in.</p></li>
</ol>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The download of census data employs a modified version of the <code class="docutils literal notranslate"><span class="pre">censusutil.py</span></code> script from the <a class="reference external" href="https://github.com/IN-CORE/pyincore-data">pyincore-data</a> module, a component of IN-CORE.</p>
</div>
<ol class="arabic">
<li><p>The <strong>Asset Layer Selection Dropdown</strong> is where the user selects the GIS layer in R2D that contains the asset inventory of interest. When the user selects a layer, it will be copied automatically.</p></li>
<li><p>If the user provides their own GIS file with the asset inventory, they will also have to provide the <strong>Coordinate Reference System (CRS)</strong>. The CRS dropdown is where the coordinate reference system for a particular GIS file is specified so that it can be projected into the correct coordinates.</p></li>
<li><p>The <strong>Census Date</strong> dropdown is where the Census vintage is provided. Currently, the 2010 and 2020 Census dates are supported.</p></li>
<li><p>The <strong>Census Variables</strong> input box is where the user can provide custom variables to download from the Census API in a comma separated list. For the 2010 vintage the default variables are <code class="docutils literal notranslate"><span class="pre">P005001,P005003,P005004,P005010</span></code>, and for the 2020 vintage, the default variables are <code class="docutils literal notranslate"><span class="pre">P2_001N,P2_002N,P2_005N,P2_006N</span></code>. You can go to the Census website for a particular vintage to see what the variables mean, and what other variables are available.</p>
<blockquote>
<div><dl class="simple">
<dt>The default variables for 2010 are:</dt><dd><ul class="simple">
<li><p>P005001 = Total</p></li>
<li><p>P005003 = Total!!Not Hispanic or Latino!!White alone</p></li>
<li><p>P005004 = Total!!Not Hispanic or Latino!!Black or African American alone</p></li>
<li><p>P005010 = Total!!Hispanic or Latino</p></li>
</ul>
</dd>
<dt>The default variables for 2020 are:</dt><dd><ul class="simple">
<li><p>P2_001N=!!Total:</p></li>
<li><p>P2_002N=!!Total:!!Hispanic or Latino</p></li>
<li><p>P2_005N=!!Total:!!Not Hispanic or Latino:!!Population of one race:!!White alone</p></li>
<li><p>P2_006N=!!Total:!!Not Hispanic or Latino:!!Population of one race:!!Black or African American alone</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</li>
<li><p>The <strong>ACS Date</strong> dropdown is where the ACS vintage is provided. Currently, the 2010, 2015, and 2020 ACS dates are supported.</p></li>
<li><p>The <strong>ACS Variables</strong> input box is where the user can provide custom variables to download from the ACS API. They should also be provided in a comma separated list.</p>
<blockquote>
<div><dl class="simple">
<dt>For the 2010, 2015, and 2020 5-year ACS vintage the default variables are:</dt><dd><ul class="simple">
<li><p>B19001_001E - Estimate!!Total</p></li>
<li><p>B19001_002E - Estimate!!Total!!Less than $10,000</p></li>
<li><p>B19001_003E - Estimate!!Total!!$10,000 to $14,999</p></li>
<li><p>B19001_004E - Estimate!!Total!!$15,000 to $19,999</p></li>
<li><p>B19001_005E - Estimate!!Total!!$20,000 to $24,999</p></li>
<li><p>B19001_006E - Estimate!!Total!!$25,000 to $29,999</p></li>
<li><p>B19001_007E - Estimate!!Total!!$30,000 to $34,999</p></li>
<li><p>B19001_008E - Estimate!!Total!!$35,000 to $39,999</p></li>
<li><p>B19001_009E - Estimate!!Total!!$40,000 to $44,999</p></li>
<li><p>B19001_010E - Estimate!!Total!!$45,000 to $49,999</p></li>
<li><p>B19001_011E - Estimate!!Total!!$50,000 to $59,999</p></li>
<li><p>B19001_012E - Estimate!!Total!!$60,000 to $74,999</p></li>
<li><p>B19001_013E - Estimate!!Total!!$75,000 to $99,999</p></li>
<li><p>B19001_014E - Estimate!!Total!!$100,000 to $124,999</p></li>
<li><p>B19001_015E - Estimate!!Total!!$125,000 to $149,999</p></li>
<li><p>B19001_016E - Estimate!!Total!!$150,000 to $199,999</p></li>
<li><p>B19001_017E - Estimate!!Total!!$200,000 or more</p></li>
<li><p>B19013_001E - Estimate!!Median household income in the past 12 months (in 2016 inflation-adjusted dollars)</p></li>
</ul>
</dd>
</dl>
</div></blockquote>
</li>
<li><p>The <strong>Output Folder</strong> is the location on your computer where R2D will save the GIS files that are downloaded from the US Census APIs.</p></li>
<li><p>The <strong>Download Census Data Button</strong> runs the process that extracts the counties that overlap the building inventory, calls the US Census and ACS APIs to download data for the extracted counties, and saves the data as GIS files to the output folder.</p></li>
<li><p>The <strong>Census Block-level GIS File</strong> and <strong>American Community Survey Block Group Level GIS File</strong> box provides the file paths to the respective GIS files. These paths will be populated automatically after the download process described above completes. Alternatively, you can provide your own Census and ACS layers to join to the building inventory. Clicking on the <strong>Browse</strong> button will open a dialog where you can select the respective file.</p></li>
<li><p>The <strong>Extract Census Data Button</strong> runs the process that extracts the Census and ACS data from the GIS files and appends that information to each asset in the copied asset layer. Users can now save the newly augmented layer by right-clicking on the layer in the layer tree and selecting the <code class="docutils literal notranslate"><span class="pre">Export-&gt;Save</span> <span class="pre">As</span></code> option.</p></li>
</ol>
<div class="align-center figure" id="id32">
<span id="fig-r2dhuapanel"></span><img alt="../../../../../_images/R2DHUAPanel.png" src="../../../../../_images/R2DHUAPanel.png" />
<p class="caption"><span class="caption-number">Fig. 3.5.1 </span><span class="caption-text">Census data allocation input panel.</span><a class="headerlink" href="#id32" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="brails">
<h2><span class="section-number">3.6. </span>BRAILS<a class="headerlink" href="#brails" title="Permalink to this headline">¶</a></h2>
<p>This tool dialog will create a building asset inventory from images of buildings in a region.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, The Regents of the University of California.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    <!-- Theme Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', '...', 'auto');
    
    ga('send', 'pageview');
    </script>

    
    

  <style>
         .wy-nav-content { max-width: none; }
  </style>

<script>
    /*
    let selectedFilters = [];
    const images  = document.getElementsByClassName("gallery-item");
    const filters = [...document.querySelectorAll('.filter select')];
    const toggles = [...document.querySelectorAll('.filter input')];

    var show = function (elem) {
        elem.style.display = 'block';
    };
    var hide = function (elem) {
        elem.style.display = 'none';
    };
    var toggleFilter =  function(el,elid) {
        const filter = document.getElementById(elid);
        filter.disabled = !el.checked;
       
        if ("createEvent" in document) {
            var evt = document.createEvent("HTMLEvents");
            evt.initEvent("change", false, true);
            filter.dispatchEvent(evt);
        }
        else
            filter.fireEvent("change");
    };
    
    for (const filter of filters) {
        filter.addEventListener('change', function(event) {
            selectedFilters = filters.map(filter => filter.disabled ? '' : filter.value).filter(Boolean);
            console.log(selectedFilters);
            for (const image of images) {
                if (selectedFilters.every(filter => image.classList.contains(filter))) {
                    show(image);
                }
                else {hide(image)};
            };
        })
    };
    */
</script>


</body>
</html>